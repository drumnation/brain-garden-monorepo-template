---
description: Frontend component patterns - decision tree, atomic design, platform pathways
globs:
  - "packages/**/components/**/*"
  - "packages/**/ui/**/*"
  - "apps/web/src/components/**/*"
alwaysApply: false
scopes:
  - react
  - frontend
  - ui
  - components
  - vite
  - mantine
---

# Frontend Component Patterns

## Decision Tree

**Step 1: Third-party wrapper?**
- YES → **Atomic Design** (wrap in `src/ui/atoms|molecules|organisms`)

**Step 2: New reusable component?**
- YES → **Storybook-First** (`.stories.tsx`)

**Step 3: Different mobile/desktop layouts?**
- YES → **Platform Pathways** (`.web.tsx` + `.mobile.tsx`)
- NO → **Mobile-First** (responsive CSS)

## Atomic Structure
```
src/components/
  atoms/        # Button, Text, Icon
  molecules/    # AvatarWithName, InputWithLabel
  organisms/    # Header, Sidebar
  layouts/      # DashboardLayout
```

## Platform Pathways
```typescript
// ComponentName.tsx (entry point)
export const ComponentName = (props) => {
  const isMobile = useMediaQuery(`(max-width: ${theme.breakpoints.sm})`);
  return isMobile ? <ComponentNameMobile {...props} /> : <ComponentNameWeb {...props} />;
};
```

## Mobile-First
```typescript
const Button = styled(MantineButton)`
  padding: 12px 16px;  /* Mobile first */
  @media (min-width: 768px) {
    padding: 14px 24px;  /* Desktop enhancement */
  }
`;
```
