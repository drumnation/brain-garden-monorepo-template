---
description: Use this guide whenever you need to create, update, or manage pull requests in the repository, particularly for standardizing PR descriptions, handling hotfixes, and ensuring proper git workflow including branch creation, PR formatting, and cleanup procedures.
globs:
---

# PR Creation and Management Guidelines

## Overview
This document outlines the standardized process for creating and managing pull requests, including hotfix workflows, PR description formatting, and cleanup procedures.

## ğŸ”„ Workflow Steps

### 1. Branch Creation
```bash
# For hotfixes
git checkout qa
git pull origin qa
git checkout -b hotfix/descriptive-name

# For features
git checkout main
git pull origin main
git checkout -b feature/descriptive-name
```

### 2. PR Description Creation
```bash
# Create temporary description file
printf '# ğŸš‘ [PR Type]: Brief Title\n\n## ğŸ” Issue\n[Issue description]\n\n## ğŸ›  Fix\n[Fix description]\n\n## ğŸ“‹ Changes\n- [Change 1]\n- [Change 2]\n\n## ğŸ§ª Testing\n- [ ] [Test item 1]\n- [ ] [Test item 2]\n\n## â° Created\n%s\n\n#Tags #MoreTags' "$(date +'%A, %B %d, %Y at %I:%M:%S %p')" > /tmp/pr_description.md
```

### 3. PR Creation Using GitHub CLI
```bash
# Create new PR
gh pr create --base [target_branch] --head [source_branch] --title "[PR Title]" --body-file /tmp/pr_description.md

# Update existing PR
gh pr edit [PR_NUMBER] --body-file /tmp/pr_description.md
```

### 4. Cleanup
```bash
# Remove temporary files
rm /tmp/pr_description.md
```

## ğŸ“ PR Description Templates

<!-- markdownlint-disable MD025 -->
<!-- Note: H1 headings in templates below are intentional examples for PR descriptions -->

### Hotfix Template
\`\`\`markdown
# ğŸš‘ Hotfix: [Brief Description]

## ğŸ” Issue
[Describe the issue being fixed]

## ğŸ›  Fix
[Describe the fix implemented]

## ğŸ“‹ Changes
- [Change 1]
- [Change 2]

## ğŸ§ª Testing
- [ ] [Test step 1]
- [ ] [Test step 2]

## â° Created
[DATE]

#Hotfix #[AdditionalTags]
\`\`\`

### Feature Template
\`\`\`markdown
# âœ¨ Feature: [Brief Description]

## ğŸ¯ Purpose
[Describe the feature's purpose]

## ğŸ“‹ Changes
- [Change 1]
- [Change 2]

## ğŸ§ª Testing
- [ ] [Test step 1]
- [ ] [Test step 2]

## ğŸ“š Documentation
- [ ] Updated relevant docs
- [ ] Added comments where needed

## â° Created
[DATE]

#Feature #[AdditionalTags]
\`\`\`

## ğŸ¨ Formatting Guidelines

1. **Emojis**
   - Use relevant emojis at section headers
   - Keep emoji usage consistent within templates
   - Common emojis:
     - ğŸš‘ Hotfix
     - âœ¨ Feature
     - ğŸ› Bug fix
     - ğŸ“š Documentation
     - ğŸ§ª Testing
     - âš¡ Performance
     - ğŸ”’ Security

2. **Markdown Best Practices**
   - Use backticks (\`) for code, commands, and technical terms
   - Use bullet points (-) for lists
   - Use checkboxes (- [ ]) for testing items
   - Use headers (##) for clear section separation
   - Add blank lines between sections

3. **Content Structure**
   - Keep titles concise and descriptive
   - Use active voice in descriptions
   - List changes in bullet points
   - Include specific testing steps
   - Add relevant tags

## ğŸ”„ Post-PR Workflow

1. **For Hotfixes**
   ```bash
   # After QA approval
   git checkout main
   git pull origin main
   git merge hotfix/[branch-name]
   git push origin main
   ```

2. **Branch Cleanup**
   ```bash
   # After successful merge
   git branch -d [branch-name]
   git push origin --delete [branch-name]
   ```

## ğŸš« Common Pitfalls to Avoid

1. Don't include sensitive information in PR descriptions
2. Don't leave testing steps vague or incomplete
3. Don't forget to clean up temporary files
4. Don't merge without required approvals
5. Don't leave outdated branches lingering

## ğŸ” PR Review Guidelines

1. **Before Requesting Review**
   - [ ] All tests pass
   - [ ] Code follows style guidelines
   - [ ] PR description is complete and formatted
   - [ ] Changes are properly scoped
   - [ ] Temporary files are cleaned up

2. **After Review**
   - [ ] Address all comments
   - [ ] Update PR description if needed
   - [ ] Re-request review if necessary
   - [ ] Clean up feature branches after merge

---

## ğŸ”— Related Rules

### Validation Before PR Creation
**IMPORTANT:** Before creating a PR, check validation reports to ensure quality:

- **`brain-monitor-validation.rules.mdc`** - Check `_errors/validation-summary.md` first
  - Prevents pushing code with known issues
  - Provides clear task list of what needs fixing
  - Saves CI/CD time and reviewer effort

- **`tests.continuous-validation.rules.mdc`** - Auto-test execution
  - Tests run automatically after changes
  - Results appear in `_errors/` reports
  - Part of the Testing Trio workflow

- **`tests.unified-testing.rules.mdc`** - Test quality standards
  - Ensures tests follow TDD principles
  - Provides testing patterns and best practices
  - Part of the Testing Trio workflow

### Monorepo Context
- **`monorepo-structure-and-configuration.rules.mdc`** - Monorepo conventions
- **`monorepo-package-docs-versioning.rules.mdc`** - Package versioning in PRs

### Best Practice Integration
**Before marking PR ready for review:**
1. Run `cat _errors/validation-summary.md` to check status
2. Fix any failing tests/lints shown in reports
3. Update CHANGELOG.md for affected packages
4. Ensure PR description reflects actual changes